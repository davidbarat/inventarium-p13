{% extends '_layouts/base.html' %}
{% load crispy_forms_tags %}
{% block head_title %}Ajout d'équipement{% endblock %}
{% block content %}

<div class="section">
    <div class="container">
        <form method="post" enctype="multipart/form-data" class="col-lg-12 col-sm-12">
            {% csrf_token %}
            <fieldset class="form-group">
                <legend class="border-bottom mb-2">Mise à jour de l'équipement</legend>
                {% if form.errors %}
                {% for field in form %}
                {% for error in field.errors %}
                <div class="alert alert-danger">{{ field.label }} : {{ error }}</div>
                {% endfor %}
                {% endfor %}
                {% endif %}
                <div class="form-row">
                    <div class="form-group col-md-6 mb-0">
                        {{ form.name|as_crispy_field }}
                        {{ form.brand|as_crispy_field }}
                        {{ form.model|as_crispy_field }}
                        {{ form.price|as_crispy_field }}

                        <div class="form-row">
                            <div class="form-group col-md-6 mb-0">
                                {{ form.date_purchase|as_crispy_field }}
                            </div>
                            <div class="form-group col-md-6 mb-0">
                                {{ form.length_warranty|as_crispy_field }}
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group col-md-12 mb-0">
                                {{ form.category|as_crispy_field }}
                            </div>
                        </div>
                    </div>
                    <div class="form-group col-md-6 mb-0">
                        {{ form.note|as_crispy_field }}
                        {{ form.picture|as_crispy_field }}
                        {{ form.invoice|as_crispy_field }}
                        {{ form.manual|as_crispy_field }}
                    </div>
                </div>
                <a href="{% url 'room' equipment.room.id %}" class="btn btn-secondary">Annuler</a>
                <button type="button" class="btn btn-primo" data-toggle="modal" data-target="#confirmationModal">
                    Mettre à jour</button>
            </fieldset>
            <!-- Modal -->
            <div class="modal fade" id="confirmationModal" tabindex="-1" role="dialog"
                aria-labelledby="confirmationModalLabel" aria-hidden="true">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="confirmationModalLabel">Confirmation</h5>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <div class="modal-body">
                            <p>Êtes-vous sûr(e) de vouloir modifier cet équipement ?</p>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary btn-sm" data-dismiss="modal">Annuler</button>
                            <button type="submit" class="btn btn-primo btn-sm">Confirmer</button>
                        </div>
                    </div>
                </div>
            </div>
        </form>

        {% endblock content %}